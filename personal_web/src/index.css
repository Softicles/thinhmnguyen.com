@import "tailwindcss";

@theme {
    --color-border: hsl(var(--border));
    --color-background: hsl(var(--background));
    --color-foreground: hsl(var(--foreground));

    --color-card-1: hsl(var(--card-1));
    --color-border-1: hsl(var(--border-1));

    --color-card-2: hsl(var(--card-2));
    --color-border-2: hsl(var(--border-2));

    --color-card-3: hsl(var(--card-3));
    --color-border-3: hsl(var(--border-3));

    --color-primary: hsl(var(--primary));
    --color-primary-foreground: hsl(var(--primary-foreground));

    --color-card: hsl(var(--card));

    --color-marker-1: hsl(var(--marker-1));
    --color-marker-2: hsl(var(--marker-2));
    --color-marker-3: hsl(var(--marker-3));
    --color-marker-4: hsl(var(--marker-4));
    --color-marker-text: hsl(var(--marker-text));

    --animate-float: float 6s ease-in-out infinite;
    --animate-fade-in: fade-in 0.7s ease-out forwards;
    --animate-fade-in-delay-1: fade-in 0.7s ease-out 0.2s forwards;
    --animate-fade-in-delay-2: fade-in 0.7s ease-out 0.4s forwards;
    --animate-fade-in-delay-3: fade-in 0.7s ease-out 0.6s forwards;
    --animate-fade-in-delay-4: fade-in 0.7s ease-out 0.8s forwards;
    --animate-dimming: dimming 10s ease-in-out infinite;
    --animate-meteor: meteor 5s linear infinite;
    --animate-spin: spin 20s linear infinite;
    --animate-gradientShift: gradientShift 20s ease infinite;
    @keyframes float {
        0%,
        100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    @keyframes fade-in {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes dimming {
        0% {
            opacity: 1;
        }
        70% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @keyframes meteor {
        0% {
            transform: rotate(215deg) translateX(0);
            opacity: 1;
        }
        70% {
            opacity: 1;
        }
        100% {
            transform: rotate(215deg) translateX(-500px);
            opacity: 0;
        }
    }

    @keyframes gradientShift {
        0% {
            background-position: 0% 50%; /* left-center */
        }
        25% {
            background-position: 50% 0%; /* middle-top */
        }
        50% {
            background-position: 100% 50%; /* right-center */
        }
        75% {
            background-position: 50% 100%; /* middle-bottom */
        }
        100% {
            background-position: 0% 50%; /* back to left-center */
        }
    }
}

@layer base {
    :root {
        --background: 210 40% 98%;
        --foreground: 222 47% 11%;

        --card-1: 25 100% 93.2%;
        --border-1: 29 100% 29.7%;
        --card-2: 192 100% 95.6%;
        --border-2: 192 100% 34.5%;
        --card-3: 98 100% 93%;
        --border-3: 98 100% 15.8%;

        --marker-1: 233 100% 29.6%; /*deep blue*/
        --marker-2: 189 100% 34%; /*light blue*/
        --marker-3: 34 67.8% 46.7%; /*yello*/
        --marker-4: 338 100% 26.1%; /*deep red*/
        --marker-text: 213 31% 91%;

        --card: 0 0% 100%;

        --primary: 28 96% 53%;
        --primary-foreground: 210 40% 98%;

        --border: 214 32% 91%;
    }

    .dark {
        --background: 222 47% 4%;
        --foreground: 213 31% 91%;

        --card-1: transparent;
        --border-1: 25 100% 85.2%;
        --card-2: 222 47% 8%;
        --border-2: 192 100% 34.5%;
        --card-3: transparent;
        --border-3: 98 100% 46.3%;

        --marker-1: 234 80.9% 51.6%;
        --marker-2: 189 100% 34%;
        --marker-3: 47 100% 64.1%;
        --marker-4: 360 80.9% 51.6%;
        --marker-text: 210 40% 0%;

        --card: 222 47% 8%;

        --primary: 250 65% 65%;
        --primary-foreground: 213 31% 91%;

        --border: 217 33% 20%;
    }

    * {
        @apply border-border;
    }

    html {
        @apply scroll-smooth;
    }

    body {
        @apply bg-background text-foreground transition-colors duration-300;
        font-feature-settings: "rlig" 1, "calt" 1;
    }
}

@utility container {
    margin-inline: auto;
    padding-inline: 2rem;

    @media (width >= 640px) {
        max-width: 640px;
    }

    @media (width >= 768px) {
        max-width: 768px;
    }

    @media (width >= 1024px) {
        max-width: 1024px;
    }

    @media (width >= 1280px) {
        max-width: 1280px;
    }

    @media (width >= 1400px) {
        max-width: 1400px;
    }
}

@utility text-glow {
    @apply relative;
    text-shadow: 0 0 10px rgba(167, 139, 250, 0.5);
}

@utility card-hover {
    @apply transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg;
}

@utility gradient-border {
    @apply relative rounded-md;
    background: linear-gradient(to right, hsl(var(--card)), hsl(var(--card)));

    background-clip: padding-box;
    border: 1px solid transparent;
}

@utility button {
    @apply px-6 py-2 rounded-full bg-primary text-primary-foreground 
    font-medium transition-all duration-300 hover:shadow-[0_0_10px_rgba(139,92,246,0.5)]
    hover:scale-105 active:scale-95;
}

@utility star {
    @apply absolute rounded-full bg-white;
    box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.4);
}

@utility meteor {
    @apply absolute bg-linear-to-r from-white via-white to-transparent rounded-full;
    box-shadow: 0 0 10px 5px rgba(255, 255, 255, 0.3);
}

@utility gradient {
    background: linear-gradient(
        -45deg,
        hsl(var(--card-1)),
        hsl(var(--card-2)),
        hsl(var(--card-3))
    );
    background-size: 300% 300%;
}

@utility hero {
    width: 100vw;
    display: grid;
    place-items: center;
    padding-block: clamp(3rem, 5vh, 8rem);
    overflow: hidden;
    z-index: 40;
    isolation: isolate;
}

@utility marker {
    --hl: var(--primary); /* fallback color token */
    --marker-height: 0.65em;
    --marker-pad-x: 0.15em;

    @apply relative inline-block align-baseline transition-colors duration-300;
    color: inherit; /* start tinted */
    isolation: isolate; /* keep ::after below text */
}

.marker::after {
    content: "";
    position: absolute;
    left: calc(-1 * var(--marker-pad-x));
    right: calc(-1 * var(--marker-pad-x));
    bottom: 0.05em; /* sits just under text */
    height: var(--marker-height);
    background: hsl(var(--hl) / 0.35); /* translucent “marker” at rest */
    border-radius: 0.35em;
    z-index: -1;
    transform-origin: bottom;
    transform: scaleY(0.15); /* thin line initially */
    transition: transform 300ms ease, background 300ms ease;
}

.marker:hover {
    color: hsl(var(--marker-text));
}
.marker:hover::after {
    transform: scaleY(2.3); /* grow into a full swash */
    background: hsl(var(--hl)); /* solid color on hover */
}

/* Color variants (uses your existing theme tokens) */
@utility marker-primary {
    --hl: var(--primary);
}
@utility marker-1 {
    --hl: var(--marker-1);
} /* amber-ish */
@utility marker-2 {
    --hl: var(--marker-2);
} /* teal/cyan */
@utility marker-3 {
    --hl: var(--marker-3);
} /* green */
@utility marker-4 {
    --hl: var(--marker-4);
} /* green */

/* Accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .marker::after {
        transition: none;
        transform: scaleY(1);
    }
}

#root {
    max-width: 100%;
    margin: 0 auto;
    padding: 0;
    text-align: center;
}
